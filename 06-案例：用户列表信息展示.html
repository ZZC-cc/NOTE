<!DOCTYPE html><html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"/>
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes"/>
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="stylesheet" type="text/css" id="themeDefaultStyle" href="http://127.0.0.1:6806/stage/build/export/base.css?1.5.4"/>
    <link rel="stylesheet" type="text/css" id="themeStyle" href="http://127.0.0.1:6806/appearance/themes/midnight/theme.css?1.5.4"/>
    <style>
        body {background-color: transparent;color: var(--b3-theme-on-background);}
        a {color: var(--b3-theme-primary);}
        .b3-typography, .protyle-wysiwyg, .protyle-title {font-size:16px !important}
.b3-typography code:not(.hljs), .protyle-wysiwyg code:not(.hljs) { font-variant-ligatures: none }
.li > .protyle-action {height:34px;line-height: 34px}
.protyle-wysiwyg [data-node-id].li > .protyle-action ~ .h1, .protyle-wysiwyg [data-node-id].li > .protyle-action ~ .h2, .protyle-wysiwyg [data-node-id].li > .protyle-action ~ .h3, .protyle-wysiwyg [data-node-id].li > .protyle-action ~ .h4, .protyle-wysiwyg [data-node-id].li > .protyle-action ~ .h5, .protyle-wysiwyg [data-node-id].li > .protyle-action ~ .h6 {line-height:34px;}
.protyle-wysiwyg [data-node-id].li > .protyle-action:after {height: 16px;width: 16px;margin:-8px 0 0 -8px}
.protyle-wysiwyg [data-node-id].li > .protyle-action svg {height: 14px}
.protyle-wysiwyg [data-node-id] [spellcheck="false"] {min-height:26px}
.protyle-wysiwyg .li {min-height:34px}
.protyle-gutters button svg {height:26px}
        body {background-color: var(--b3-theme-background)}
    </style>
</head>
<body>
<svg style="position: absolute; width: 0; height: 0; overflow: hidden;" version="1.1" xmlns="http://www.w3.org/2000/svg"><defs>
  <symbol id="iconCopy" viewBox="0 0 32 32">
    <path d="M22.545-0h-17.455c-1.6 0-2.909 1.309-2.909 2.909v20.364h2.909v-20.364h17.455v-2.909zM26.909 5.818h-16c-1.6 0-2.909 1.309-2.909 2.909v20.364c0 1.6 1.309 2.909 2.909 2.909h16c1.6 0 2.909-1.309 2.909-2.909v-20.364c0-1.6-1.309-2.909-2.909-2.909zM26.909 29.091h-16v-20.364h16v20.364z"></path>
  </symbol>
</svg>
<div class="b3-typography" style="max-width: 712px;margin: 0 auto;" id="preview"><hr />
<p>title: &quot;06 æ¡ˆä¾‹ï¼šç”¨æˆ·åˆ—è¡¨ä¿¡æ¯å±•ç¤º&quot;<br />
tags: &quot;&quot;</p>
<hr />
<h1 id="æ¡ˆä¾‹-ç”¨æˆ·åˆ—è¡¨ä¿¡æ¯å±•ç¤º"><strong style="color: var(--b3-font-color6);">æ¡ˆä¾‹ï¼šç”¨æˆ·åˆ—è¡¨ä¿¡æ¯å±•ç¤º</strong></h1>
<h2 id="1---éœ€æ±‚-ç”¨æˆ·å¢åˆ æŸ¥æ”¹æ“ä½œ">1.  éœ€æ±‚ï¼šç”¨æˆ·å¢åˆ æŸ¥æ”¹æ“ä½œ</h2>
<h2 id="2---è®¾è®¡-">2.  è®¾è®¡ï¼š</h2>
<ul>
<li id="20211208235234-8mzsze0">
<h3 id="1--æŠ€æœ¯é€‰å‹-Servlet-JSP-MYSQL-JDBCTempleat-Duird-BeanUtils-tomcat">1. æŠ€æœ¯é€‰å‹ï¼š<strong style="color: var(--b3-font-color9);">Servlet</strong>+<strong style="color: var(--b3-font-color2);">JSP</strong>+<strong style="color: var(--b3-font-color4);">MYSQL</strong>+<strong style="color: var(--b3-font-color8);">JDBCTempleat</strong>+<strong style="color: var(--b3-font-color11);">Duird</strong>+<strong style="color: var(--b3-font-color12);">BeanUtils</strong>+<strong style="color: var(--b3-font-color7);">tomcat</strong></h3>
</li>
<li id="20211208235234-0l1rgfl">
<h3 id="2--æ•°æ®åº“è®¾è®¡-">2. æ•°æ®åº“è®¾è®¡ï¼š</h3>
</li>
</ul>
<pre class="code-block" data-language="sql"><code>  create database userShowTest; -- åˆ›å»ºæ•°æ®åº“
  use userShowTest;             -- ä½¿ç”¨æ•°æ®åº“
  create table user(            --åˆ›å»ºè¡¨
      id int primary key auto_increment,
      name varchar(20) not null,
      gender varchar(5),
      age int,
      address varchar(32),
      qq varchar(20),
      email varchar(50)
  );
</code></pre>
<h2 id="3--å¼€å‘">3. å¼€å‘</h2>
<ul>
<li id="20211208235234-osyjcds">
<h3 id="1--ç¯å¢ƒæ­å»º">1. ç¯å¢ƒæ­å»º</h3>
<ol>
<li id="20211208235234-m8u5gov">
<p>åˆ›å»ºé¡¹ç›®ç¯å¢ƒ</p>
</li>
<li id="20211208235234-weotmiw">
<p>åˆ›å»ºé¡¹ç›®ï¼Œå¯¼å…¥éœ€è¦jaråŒ…</p>
</li>
</ol>
</li>
<li id="20211208235234-53xv0q3">
<h3 id="2--ç¼–ç ">2. ç¼–ç </h3>
</li>
</ul>
<p><span class="img" style="width: 57%;"><img src="http://127.0.0.1:6806/assets/image-20211208172603-kbyhw60.png" alt="image.png" style="width: 10000px;" parent-style="width: 57%;" /></span></p>
<h2 id="4--åŠŸèƒ½å®ç°"><strong style="color: var(--b3-font-color4);">4. åŠŸèƒ½å®ç°</strong></h2>
<h2 id="00-é¡¹ç›®æ•´ä½“"><strong style="background-image: linear-gradient(to right, var(--b3-theme-primary), var(--b3-theme-error)); -webkit-background-clip: text; color: transparent;" parent-style="color: var(--b3-card-error-color); background-color: var(--b3-card-error-background); width: 16%; flex: 0 0 auto;">00-é¡¹ç›®æ•´ä½“</strong></h2>
<p><span class="img" style="width: 58%;"><img src="http://127.0.0.1:6806/assets/image-20211208170104-b8qi4xw.png" alt="image.png" style="width: 10000px;" parent-style="width: 58%;" /></span></p>
<h2 id="01-å‡†å¤‡å·¥ä½œ--"><strong style="background-image: linear-gradient(to right, var(--b3-theme-primary), var(--b3-theme-error)); -webkit-background-clip: text; color: transparent;" parent-style="color: var(--b3-card-error-color); background-color: var(--b3-card-error-background); width: 22%; flex: 0 0 auto;">01-å‡†å¤‡å·¥ä½œ</strong> ğŸ‘‡</h2>
<ul>
<li id="20211208235234-ffbjalt">
<h2 id="teat-java-æµ‹è¯•æ•°æ®åº“è¿æ¥"><strong style="background-image: linear-gradient(to right, var(--b3-theme-primary), var(--b3-theme-error)); -webkit-background-clip: text; color: transparent;">teat.java-æµ‹è¯•æ•°æ®åº“è¿æ¥</strong></h2>
<pre class="code-block" data-language="java"><code>package cn.case1;
import java.sql.DriverManager;
import java.sql.SQLException;

import java.sql.Connection;


public class test {
    public static void main(String[] args) {
        try {
            Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);
        } catch (ClassNotFoundException e) {
            e.printStackTrace();
        }
//        String url=&quot;jdbc:mysql://localhost:3306/day17&quot;;
        String url = &quot;jdbc:mysql://localhost:3306/day17?useUnicode=true&amp;characterEncoding=utf8&quot;;
        Connection connection= null;
        try {
            connection = DriverManager.getConnection(url,&quot;root&quot;,&quot;123456&quot;);
        } catch (SQLException e) {
            e.printStackTrace();
        }
        try {
            connection.close();
        } catch (SQLException e) {
            e.printStackTrace();
        }
    }
}
</code></pre></li>
<li id="20211208235234-l31adg1">
<h2 id="resources-druid-properties-æ•°æ®åº“é…ç½®æ–‡ä»¶"><strong style="background-image: linear-gradient(to right, var(--b3-theme-primary), var(--b3-theme-error)); -webkit-background-clip: text; color: transparent;">resources/druid.properties-æ•°æ®åº“é…ç½®æ–‡ä»¶</strong></h2>
<pre class="code-block" data-language="sql"><code>driverClassName=com.mysql.cj.jdbc.Driver
url=jdbc:mysql:///day17?useSSL=true&amp;characterEncoding=utf-8&amp;serverTimezone=GMT
username=root
password=123456
initialSize=5
maxActive=20
maxWait=3000
</code></pre>
<ul>
<li id="20211208235234-azgovg0" class="protyle-task protyle-task--done"><input checked="" disabled="" type="checkbox" />
<p><strong style="color: var(--b3-font-color7);">.properties</strong>æ–‡ä»¶éœ€è¦åœ¨é¡¹ç›®æ–‡ä»¶å¤¹ä¸‹æ–°å»ºä¸€ä¸ª<strong style="color: var(--b3-font-color7);">resources</strong>æ–‡ä»¶å¤¹æ”¾å…¥</p>
</li>
<li id="20211208235234-85y0km6" class="protyle-task protyle-task--done"><input checked="" disabled="" type="checkbox" />
<p>æ–°ç‰ˆmysqlåŒ…ä½¿ç”¨<strong style="color: var(--b3-font-color6);">driverClassName=com.mysql.cj.jdbc.Driver</strong></p>
</li>
<li id="20211208235234-h3e51w0" class="protyle-task protyle-task--done"><input checked="" disabled="" type="checkbox" />
<p>urlåœ°å€åé¢å†™ä¸Šæ•°æ®åº“å+ç¼–ç ï¼Œå¦åˆ™ä¼šæŠ¥é”™ï¼š<strong style="color: var(--b3-font-color11);">url=jdbc:mysql:///day17?useSSL=true&amp;characterEncoding=utf-8&amp;serverTimezone=GMT</strong></p>
</li>
<li id="20211208235234-bwccupr" class="protyle-task protyle-task--done"><input checked="" disabled="" type="checkbox" />
<p>ç”¨æˆ·åå¯†ç éœ€è¦è¿›è¡Œç¡®è®¤</p>
</li>
</ul>
<ul>
<li id="20211208235234-fgwz6vg">
<p>è¿è¡Œtest.java è‹¥æ˜¾ç¤º0åˆ™è¿æ¥æˆåŠŸï¼Œæ˜¾ç¤º-1åˆ™è¿æ¥å‡ºç°é—®é¢˜ï¼Œå¯¹æ—¥å¿—æ–‡ä»¶æç¤ºè¿›è¡Œæ’é”™<span class="img"><img src="http://127.0.0.1:6806/assets/image-20211208173538-v8uwk3f.png" alt="image.png" /></span></p>
<p>[ ]</p>
</li>
</ul>
</li>
</ul>
<h2 id="02-ä»£ç éƒ¨åˆ†"><strong style="background-image: linear-gradient(to right, var(--b3-theme-primary), var(--b3-theme-error)); -webkit-background-clip: text; color: transparent;" parent-style="color: var(--b3-card-error-color); background-color: var(--b3-card-error-background); width: 16%; flex: 0 0 auto;">02-ä»£ç éƒ¨åˆ†</strong></h2>
<ul>
<li id="20211208235234-0czjggp">
<h3 id="--dao----impl----UserDaoImpl">ğŸ—ƒï¸<strong style="background-image: linear-gradient(to right, var(--b3-theme-primary), var(--b3-theme-error)); -webkit-background-clip: text; color: transparent;">dao&gt;&gt;&gt;</strong>ğŸ“<strong style="background-image: linear-gradient(to right, var(--b3-theme-primary), var(--b3-theme-error)); -webkit-background-clip: text; color: transparent;">impl&gt;&gt;&gt;</strong>ğŸ“‡<strong style="background-image: linear-gradient(to right, var(--b3-theme-primary), var(--b3-theme-error)); -webkit-background-clip: text; color: transparent;">UserDaoImpl</strong></h3>
<pre class="code-block" data-language="java"><code>package cn.case1.dao.ipml;

import cn.case1.dao.UserDao;
import cn.case1.domain.User;
import cn.case1.util.JDBCUtils;
import org.springframework.jdbc.core.BeanPropertyRowMapper;
import org.springframework.jdbc.core.JdbcTemplate;

import java.util.ArrayList;
import java.util.List;
import java.util.Map;
import java.util.Set;

public class UserDaoImpl implements UserDao {
    private JdbcTemplate template=new JdbcTemplate(JDBCUtils.getDataSource());
    @Override
    public List&lt;User&gt; findAll() {
        //ä½¿ç”¨JDBCæ“ä½œæ•°æ®åº“
        //1.å®šä¹‰sql
        String sql=&quot;select * from user&quot;;
        List&lt;User&gt; users = template.query(sql, new BeanPropertyRowMapper&lt;&gt;(User.class));
        return users;
    }

    @Override
    public User findUsernameAndPassword(String username,String password){
        try {
            String sql=&quot;select * from user where username = ? and password = ? &quot;;
            User user=template.queryForObject(sql,new BeanPropertyRowMapper&lt;User&gt;(User.class),
username,password);
            return user;
        }catch (Exception e){
            e.printStackTrace();
            return null;
        }
    }

    @Override
    public void add(User user) {
        //1.å®šä¹‰sql
        String sql=&quot;insert into user values(null,?,?,?,?,?,?,null,null)&quot;;
        //2.æ‰§è¡Œsql
        template.update(sql,user.getName(),user.getGender(),user.getAge(),user.getAddress(),
user.getQq(),user.getEmail());
    }

    @Override
    public void delete(int id) {
        //1.å®šä¹‰sql
        String sql=&quot;delete from user where id = ?&quot;;
        //2.æ‰§è¡Œsql
        template.update(sql,id);
    }

    @Override
    public User findById(int id) {
        //1.å®šä¹‰sql
        String sql=&quot;select * from user where id= ?&quot;;
        return template.queryForObject(sql,new BeanPropertyRowMapper&lt;User&gt;(User.class),id);
    }

    @Override
    public void update(User user) {
       //1.å®šä¹‰sql
       String sql=
&quot;update user set name = ?,gender = ? ,age = ? ,address = ? ,qq = ?,email = ? where id = ?&quot;;
       template.update(sql,user.getName(),user.getGender(),user.getAge(),user.getAddress(),
user.getQq(),user.getEmail(),user.getId());
    }

    @Override
    public List&lt;User&gt; findByPage(int start, int rows, Map&lt;String, String[]&gt; condition) {
        String sql=&quot;select * from user where 1 = 1 &quot;;
        StringBuffer sb=new StringBuffer(sql);
        //2.éå†map
        Set&lt;String&gt; keySet = condition.keySet();
        //å®šä¹‰å‚æ•°é›†åˆ
        List&lt;Object&gt; params=new ArrayList&lt;Object&gt;();
        for (String key:keySet) {
            //æ’é™¤åˆ†é¡µæ¡ä»¶å‚æ•°
            if(&quot;currentPage&quot;.equals(key)||&quot;rows&quot;.equals(key)){
                continue;
            }
            //è·å–value
            String value = condition.get(key)[0];
            //åˆ¤æ–­valueæ˜¯å¦æœ‰å€¼
            if(value !=null &amp;&amp; !&quot;&quot;.equals(value)){
                //æœ‰å€¼
                sb.append(&quot; and &quot;+key+&quot; like ?&quot;);
                params.add(&quot;%&quot;+value+&quot;%&quot;);//?æ¡ä»¶çš„å€¼
            }
        }
        //æ·»åŠ åˆ†é¡µæŸ¥è¯¢
        sb.append(&quot; limit ?,? &quot;);
        //æ·»åŠ åˆ†é¡µå‚æ•°
        params.add(start);
        params.add(rows);

        sql=sb.toString();
        System.out.println(sql);
        System.out.println(params);
        return template.query(sql,new BeanPropertyRowMapper&lt;User&gt;(User.class),params.toArray());
    }

    @Override
    public int findTotalCount(Map&lt;String, String[]&gt; condition) {
        //1.å®šä¹‰æ¨¡æ¿åˆå§‹åŒ–sql
        String sql=&quot;select count(*) from user where 1 = 1 &quot;;
        StringBuffer sb=new StringBuffer(sql);
        //2.éå†map
        Set&lt;String&gt; keySet = condition.keySet();
        //å®šä¹‰å‚æ•°é›†åˆ
        List&lt;Object&gt; params=new ArrayList&lt;Object&gt;();
        for (String key:keySet) {
            //æ’é™¤åˆ†é¡µæ¡ä»¶å‚æ•°
            if(&quot;currentPage&quot;.equals(key)||&quot;rows&quot;.equals(key)){
                continue;
            }
            //è·å–value
            String value = condition.get(key)[0];
            //åˆ¤æ–­valueæ˜¯å¦æœ‰å€¼
            if(value !=null &amp;&amp; !&quot;&quot;.equals(value)){
                //æœ‰å€¼
                sb.append(&quot; and &quot;+key+&quot; like ?&quot;);
                params.add(&quot;%&quot;+value+&quot;%&quot;);//?æ¡ä»¶çš„å€¼
            }
        }
        System.out.println(sb.toString());
        System.out.println(params);

        return template.queryForObject(sb.toString(),Integer.class,params.toArray());
    }
}
</code></pre></li>
<li id="20211208235234-kly4d6l">
<h3 id="--dao----UserDao">ğŸ—ƒï¸dao&gt;&gt;&gt;ğŸ“‡UserDao</h3>
<pre class="code-block" data-language="java"><code>package cn.case1.dao;

import cn.case1.domain.User;

import java.util.List;
import java.util.Map;

/*
*ç”¨æˆ·åˆ›ä½œçš„DAO
* */
public interface UserDao {

    public List&lt;User&gt; findAll();

    User findUsernameAndPassword(String username, String password);

    void add(User user);

    void delete(int id);

    User findById(int id);

    void update(User user);
//æŸ¥è¯¢æ€»è®°å½•æ•°
    List&lt;User&gt; findByPage(int start, int rows, Map&lt;String, String[]&gt; condition);
//åˆ†é¡µæŸ¥è¯¢
    int findTotalCount(Map&lt;String, String[]&gt; condition);
}
</code></pre></li>
<li id="20211208235234-wtx6f17">
<h2 id="--domain----PageBean-">ğŸ—ƒï¸domain&gt;&gt;&gt;ğŸ“‡PageBean/</h2>
<pre class="code-block" data-language="java"><code>package cn.case1.domain;

import java.util.List;

//åˆ†é¡µå¯¹è±¡
public class PageBean&lt;T&gt; {
    private int totalCount;//æ€»è®°å½•æ•°
    private int totalPage;//æ€»é¡µç æ•°
    private List&lt;T&gt; list;//æ¯é¡µçš„æ•°æ®
    private int currentPage;//å½“å‰é¡µç 
    private int rows;//æ¯é¡µæ˜¾ç¤ºçš„è®°å½•æ•°

    @Override
    public String toString() {
        return &quot;PageBean{&quot; +
                &quot;totalCount=&quot; + totalCount +
                &quot;, totalPage=&quot; + totalPage +
                &quot;, list=&quot; + list +
                &quot;, currentPage=&quot; + currentPage +
                &quot;, rows=&quot; + rows +
                '}';
    }

    public int getTotalCount() {
        return totalCount;
    }

    public void setTotalCount(int totalCount) {
        this.totalCount = totalCount;
    }

    public int getTotalPage() {
        return totalPage;
    }

    public void setTotalPage(int totalPage) {
        this.totalPage = totalPage;
    }

    public List&lt;T&gt; getList() {
        return list;
    }

    public void setList(List&lt;T&gt; list) {
        this.list = list;
    }

    public int getCurrentPage() {
        return currentPage;
    }

    public void setCurrentPage(int currentPage) {
        this.currentPage = currentPage;
    }

    public int getRows() {
        return rows;
    }

    public void setRows(int rows) {
        this.rows = rows;
    }
}
</code></pre></li>
<li id="20211208235234-b27acn9">
<h2 id="--domain----User">ğŸ—ƒï¸domain&gt;&gt;&gt;ğŸ“‡User</h2>
<pre class="code-block" data-language="java"><code>package cn.case1.domain;

public class User {
    private int id;
    private String name;
    private String gender;
    private int age;
    private String address;
    private String qq;
    private String email;
    private String username;
    private String password;

    public String getUsername() {
        return username;
    }

    public void setUsername(String username) {
        this.username = username;
    }

    public String getPassword() {
        return password;
    }

    public void setPassword(String password) {
        this.password = password;
    }

    @Override
    public String toString() {
        return &quot;User{&quot; +
                &quot;id=&quot; + id +
                &quot;, name='&quot; + name + '\'' +
                &quot;, gender='&quot; + gender + '\'' +
                &quot;, age=&quot; + age +
                &quot;, address='&quot; + address + '\'' +
                &quot;, qq='&quot; + qq + '\'' +
                &quot;, email='&quot; + email + '\'' +
                &quot;, username='&quot; + username + '\'' +
                &quot;, password='&quot; + password + '\'' +
                '}';
    }

    public int getId() {
        return id;
    }

    public void setId(int id) {
        this.id = id;
    }

    public String getName() {
        return name;
    }

    public void setName(String name) {
        this.name = name;
    }

    public String getGender() {
        return gender;
    }

    public void setGender(String gender) {
        this.gender = gender;
    }

    public int getAge() {
        return age;
    }

    public void setAge(int age) {
        this.age = age;
    }

    public String getAddress() {
        return address;
    }

    public void setAddress(String address) {
        this.address = address;
    }

    public String getQq() {
        return qq;
    }

    public void setQq(String qq) {
        this.qq = qq;
    }

    public String getEmail() {
        return email;
    }

    public void setEmail(String email) {
        this.email = email;
    }
}
</code></pre></li>
<li id="20211208235234-i1f6b3w">
<h2 id="--service----Impl----UserServiceImpl">ğŸ—ƒï¸service&gt;&gt;&gt;ğŸ“Impl&gt;&gt;&gt;ğŸ“‡UserServiceImpl</h2>
<pre class="code-block" data-language="java"><code>package cn.case1.service.ipml;

import cn.case1.dao.UserDao;
import cn.case1.dao.ipml.UserDaoImpl;
import cn.case1.domain.PageBean;
import cn.case1.domain.User;
import cn.case1.service.UserService;

import java.util.List;
import java.util.Map;

public class UserServiceImpl implements UserService {
    private UserDao dao=new UserDaoImpl();
    @Override
    public List&lt;User&gt; findAll() {
        //è°ƒç”¨Daoå®ŒæˆæŸ¥è¯¢
        return dao.findAll();
    }

    @Override
    public User login(User user){
        return dao. findUsernameAndPassword(user.getUsername(),user.getPassword());
    }

    @Override
    public void addUser(User user) {
        dao.add(user);
    }

    @Override
    public void deleteUser(String id) {
        dao.delete(Integer.parseInt(id));
    }

    @Override
    public User findUserById(String id) {
        return dao.findById(Integer.parseInt(id));
    }

    @Override
    public void updateUser(User user) {
        dao.update(user);
    }

    @Override
    public void delSelectedUser(String[] ids) {
        if(ids != null &amp;&amp; ids.length &gt; 0){
            //1.éå†æ•°ç»„
            for (String id : ids) {
                //2.è°ƒç”¨daoåˆ é™¤
                dao.delete(Integer.parseInt(id));
            }
        }
    }

    @Override
    public PageBean&lt;User&gt; findUserByPage(String _currentPage, String _rows, Map&lt;String, String[]&gt; condition) {
        int currentPage=Integer.parseInt(_currentPage);
        int rows=Integer.parseInt(_rows);
        if (currentPage&lt;=0){
            currentPage=1;
        }
        //1.åˆ›å»ºç©ºçš„PageBeanå¯¹è±¡
        PageBean&lt;User&gt; pb=new PageBean&lt;User&gt;();
        //2.è®¾ç½®å‚æ•°
        pb.setCurrentPage(currentPage);
        pb.setRows(rows);
        //3.è°ƒç”¨daoæŸ¥è¯¢æ€»è®°å½•æ•°
        int totalCount=dao.findTotalCount(condition);
        pb.setTotalCount(totalCount);
        //4.è°ƒç”¨daoæŸ¥è¯¢Listé›†åˆ
        //è®¡ç®—ä¸€ä¸‹å¼€å§‹çš„è®°å½•ç´¢å¼•
        int start=(currentPage - 1)*rows;
        List&lt;User&gt; list=dao.findByPage(start,rows,condition);
        pb.setList(list);
        //5.è®¡ç®—æ€»é¡µç 
        int totalPage=(totalCount%rows )== 0 ? totalCount/rows : (totalCount/rows )+ 1;
        pb.setTotalPage(totalPage);
        return pb;
    }

}
</code></pre></li>
<li id="20211208235234-qfhw5xq">
<h2 id="--service----UserService">ğŸ—ƒï¸service&gt;&gt;&gt;ğŸ“‡UserService</h2>
<pre class="code-block" data-language="java"><code>package cn.case1.service;

import cn.case1.domain.PageBean;
import cn.case1.domain.User;

import java.util.List;
import java.util.Map;

/*
* ç”¨æˆ·ç®¡ç†çš„ä¸šåŠ¡æ¥å£
* */
public interface UserService {
    /*
    * æŸ¥è¯¢æ‰€æœ‰ç”¨æˆ·ä¿¡æ¯
    * @return
    * */
    public List&lt;User&gt; findAll();

    /**
     * ç™»å½•æ–¹æ³•
     * @param user
     * @return
     */
    User login(User user);
    /**
     * ä¿å­˜å¯¹è±¡
     * @param user
     *
     */
    void addUser(User user);
    /**
     * æ ¹æ®idåˆ é™¤User
     * @param id
     *
     */
    void deleteUser(String id);
    /**
     * æ ¹æ®idæŸ¥è¯¢User
     * @param id
     *
     * @return
     */
    User findUserById(String id);
    /**
     * ä¿®æ”¹ç”¨æˆ·ä¿¡æ¯
     * @param user
     * @return
     */
    void updateUser(User user);
    /**
     * æ‰¹é‡åˆ é™¤ç”¨æˆ·
     * @param ids
     */
    void delSelectedUser(String[] ids);



    /**
     * åˆ†é¡µæ¡ä»¶æŸ¥è¯¢
     * @param _currentPage
     * @param _rows
     * @param condition
     * @return
     */
    PageBean&lt;User&gt; findUserByPage(String _currentPage, String _rows, Map&lt;String, String[]&gt; condition);
}
</code></pre></li>
<li id="20211208235234-x3aorlr">
<h2 id="--util----JDBCUtils">ğŸ—ƒï¸util&gt;&gt;&gt;ğŸ“‡JDBCUtils</h2>
<pre class="code-block" data-language="java"><code>package cn.case1.util;

import com.alibaba.druid.pool.DruidDataSourceFactory;

import javax.sql.DataSource;
import java.io.IOException;
import java.io.InputStream;
import java.sql.Connection;
import java.sql.SQLException;
import java.util.Properties;

/**
 * JDBCå·¥å…·ç±» ä½¿ç”¨Duridè¿æ¥æ± 
 */
public class JDBCUtils {

    private static DataSource ds ;

    static {

        try {
            //1.åŠ è½½é…ç½®æ–‡ä»¶
            Properties pro = new Properties();
            //ä½¿ç”¨ClassLoaderåŠ è½½é…ç½®æ–‡ä»¶ï¼Œè·å–å­—èŠ‚è¾“å…¥æµ
            InputStream is = JDBCUtils.class.getClassLoader().getResourceAsStream(&quot;druid.properties&quot;);
            pro.load(is);

            //2.åˆå§‹åŒ–è¿æ¥æ± å¯¹è±¡
            ds = DruidDataSourceFactory.createDataSource(pro);

        } catch (IOException e) {
            e.printStackTrace();
        } catch (Exception e) {
            e.printStackTrace();
        }
    }

    /**
     * è·å–è¿æ¥æ± å¯¹è±¡
     */
    public static DataSource getDataSource(){
        return ds;
    }


    /**
     * è·å–è¿æ¥Connectionå¯¹è±¡
     */
    public static Connection getConnection() throws SQLException {
        return  ds.getConnection();
    }
}
</code></pre></li>
<li id="20211208235234-c3u227d">
<h2 id="--web----servlet----AddUserServlet">ğŸ—ƒï¸web&gt;&gt;&gt;ğŸ“servlet&gt;&gt;&gt;ğŸ“‡AddUserServlet</h2>
<pre class="code-block" data-language="java"><code>package cn.case1.web.servlet;

import cn.case1.domain.User;

import cn.case1.service.ipml.UserServiceImpl;
import org.apache.commons.beanutils.BeanUtils;

import javax.servlet.ServletException;
import javax.servlet.annotation.WebServlet;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import java.io.IOException;
import java.lang.reflect.InvocationTargetException;
import java.util.Map;

@WebServlet(&quot;/addUserServlet&quot;)
public class AddUserServlet extends HttpServlet {
    @Override
    protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        //1.è®¾ç½®ç¼–ç 
        req.setCharacterEncoding(&quot;utf-8&quot;);
        //2.è·å–å‚æ•°
        Map&lt;String, String[]&gt; map = req.getParameterMap();
        //3.å°è£…å¯¹è±¡
        User user = new User();
        try {
            BeanUtils.populate(user,map);
        } catch (IllegalAccessException e) {
            e.printStackTrace();
        } catch (InvocationTargetException e) {
            e.printStackTrace();
        }
        //4.è°ƒç”¨Serviceä¿å­˜
        UserServiceImpl userService = new UserServiceImpl();
        userService.addUser(user);
        //5.è·³è½¬åˆ°userListServlet
        resp.sendRedirect(req.getContextPath()+&quot;/userListServlet&quot;);
    }

    @Override
    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        this.doPost(req, resp);
    }
}
</code></pre></li>
<li id="20211208235234-ao75kzk">
<h2 id="--web----servlet----CheckCodeServlet-">ğŸ—ƒï¸web&gt;&gt;&gt;ğŸ“servlet&gt;&gt;&gt;ğŸ“‡CheckCodeServlet/</h2>
<pre class="code-block" data-language="java"><code>package cn.case1.web.servlet;

import java.awt.Color;
import java.awt.Font;
import java.awt.Graphics;
import java.awt.image.BufferedImage;
import java.io.IOException;
import java.util.Random;
import javax.imageio.ImageIO;
import javax.servlet.ServletException;
import javax.servlet.annotation.WebServlet;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;

/**
 * éªŒè¯ç 
 */
@WebServlet(&quot;/checkCodeServlet&quot;)
public class CheckCodeServlet extends HttpServlet {
	public void doGet(HttpServletRequest request, HttpServletResponse response)throws ServletException, IOException {

		//æœåŠ¡å™¨é€šçŸ¥æµè§ˆå™¨ä¸è¦ç¼“å­˜
		response.setHeader(&quot;pragma&quot;,&quot;no-cache&quot;);
		response.setHeader(&quot;cache-control&quot;,&quot;no-cache&quot;);
		response.setHeader(&quot;expires&quot;,&quot;0&quot;);

		//åœ¨å†…å­˜ä¸­åˆ›å»ºä¸€ä¸ªé•¿80ï¼Œå®½30çš„å›¾ç‰‡ï¼Œé»˜è®¤é»‘è‰²èƒŒæ™¯
		//å‚æ•°ä¸€ï¼šé•¿
		//å‚æ•°äºŒï¼šå®½
		//å‚æ•°ä¸‰ï¼šé¢œè‰²
		int width = 80;
		int height = 30;
		BufferedImage image = new BufferedImage(width,height,BufferedImage.TYPE_INT_RGB);

		//è·å–ç”»ç¬”
		Graphics g = image.getGraphics();
		//è®¾ç½®ç”»ç¬”é¢œè‰²ä¸ºç°è‰²
		g.setColor(Color.GRAY);
		//å¡«å……å›¾ç‰‡
		g.fillRect(0,0, width,height);

		//äº§ç”Ÿ4ä¸ªéšæœºéªŒè¯ç ï¼Œ12Ey
		String checkCode = getCheckCode();
		//å°†éªŒè¯ç æ”¾å…¥HttpSessionä¸­
		request.getSession().setAttribute(&quot;CHECKCODE_SERVER&quot;,checkCode);

		//è®¾ç½®ç”»ç¬”é¢œè‰²ä¸ºé»„è‰²
		g.setColor(Color.YELLOW);
		//è®¾ç½®å­—ä½“çš„å°å¤§
		g.setFont(new Font(&quot;é»‘ä½“&quot;,Font.BOLD,24));
		//å‘å›¾ç‰‡ä¸Šå†™å…¥éªŒè¯ç 
		g.drawString(checkCode,15,25);

		//å°†å†…å­˜ä¸­çš„å›¾ç‰‡è¾“å‡ºåˆ°æµè§ˆå™¨
		//å‚æ•°ä¸€ï¼šå›¾ç‰‡å¯¹è±¡
		//å‚æ•°äºŒï¼šå›¾ç‰‡çš„æ ¼å¼ï¼Œå¦‚PNG,JPG,GIF
		//å‚æ•°ä¸‰ï¼šå›¾ç‰‡è¾“å‡ºåˆ°å“ªé‡Œå»
		ImageIO.write(image,&quot;PNG&quot;,response.getOutputStream());
	}
	/**
	 * äº§ç”Ÿ4ä½éšæœºå­—ç¬¦ä¸² 
	 */
	private String getCheckCode() {
		String base = &quot;0123456789ABCDEFGabcdefg&quot;;
		int size = base.length();
		Random r = new Random();
		StringBuffer sb = new StringBuffer();
		for(int i=1;i&lt;=4;i++){
			//äº§ç”Ÿ0åˆ°size-1çš„éšæœºå€¼
			int index = r.nextInt(size);
			//åœ¨baseå­—ç¬¦ä¸²ä¸­è·å–ä¸‹æ ‡ä¸ºindexçš„å­—ç¬¦
			char c = base.charAt(index);
			//å°†cæ”¾å…¥åˆ°StringBufferä¸­å»
			sb.append(c);
		}
		return sb.toString();
	}
	public void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
		this.doGet(request,response);
	}
}



</code></pre></li>
<li id="20211208235234-bs4g90t">
<h2 id="--web----servlet----DelSelectedServlet">ğŸ—ƒï¸web&gt;&gt;&gt;ğŸ“servlet&gt;&gt;&gt;ğŸ“‡DelSelectedServlet</h2>
<pre class="code-block" data-language="java"><code>package cn.case1.web.servlet;

import cn.case1.service.UserService;
import cn.case1.service.ipml.UserServiceImpl;

import javax.servlet.ServletException;
import javax.servlet.annotation.WebServlet;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import java.io.IOException;
@WebServlet(&quot;/delSelectedServlet&quot;)
public class DelSelectedServlet extends HttpServlet {
    @Override
    protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        //1.è·å–æ‰€æœ‰id
        String[] ids = req.getParameterValues(&quot;uid&quot;);
        //2.è°ƒç”¨serviceåˆ é™¤
        UserService service = new UserServiceImpl();
        service.delSelectedUser(ids);

        //3.è·³è½¬æŸ¥è¯¢æ‰€æœ‰Servlet
        resp.sendRedirect(req.getContextPath()+&quot;/findUserByPageServlet&quot;);
    }

    @Override
    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        this.doPost(req, resp);
    }
}
</code></pre></li>
<li id="20211208235234-ghz4n84">
<h2 id="--web----servlet----DelUserServlet">ğŸ—ƒï¸web&gt;&gt;&gt;ğŸ“servlet&gt;&gt;&gt;ğŸ“‡DelUserServlet</h2>
<pre class="code-block" data-language="java"><code>package cn.case1.web.servlet;

import cn.case1.service.UserService;
import cn.case1.service.ipml.UserServiceImpl;

import javax.servlet.ServletException;
import javax.servlet.annotation.WebServlet;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import java.io.IOException;

@WebServlet(&quot;/delUserServlet&quot;)
public class DelUserServlet extends HttpServlet {
    @Override
    protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        //1.è·å–id
        String id = req.getParameter(&quot;id&quot;);
        //2.è°ƒç”¨serviceåˆ é™¤
        UserService service = new UserServiceImpl();
        service.deleteUser(id);

        //3.è·³è½¬åˆ°æŸ¥è¯¢æ‰€æœ‰Servlet
        resp.sendRedirect(req.getContextPath()+&quot;/findUserByPageServlet&quot;);
    }

    @Override
    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        this.doPost(req, resp);
    }
}
</code></pre></li>
<li id="20211208235234-vu34cxp">
<h2 id="--web----servlet----FindUserByPageServle">ğŸ—ƒï¸web&gt;&gt;&gt;ğŸ“servlet&gt;&gt;&gt;ğŸ“‡FindUserByPageServle</h2>
<pre class="code-block" data-language="java"><code>package cn.case1.web.servlet;

import cn.case1.domain.PageBean;
import cn.case1.domain.User;
import cn.case1.service.ipml.UserServiceImpl;

import javax.servlet.ServletException;
import javax.servlet.annotation.WebServlet;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import java.io.IOException;
import java.util.Map;

@WebServlet(&quot;/findUserByPageServlet&quot;)
public class FindUserByPageServlet extends HttpServlet {
    @Override
    protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        req.setCharacterEncoding(&quot;utf-8&quot;);

        //1.è·å–å‚æ•°
        String currentPage = req.getParameter(&quot;currentPage&quot;);//å½“å‰é¡µç 
        String rows = req.getParameter(&quot;rows&quot;);//æ˜¾ç¤ºæ¡æ•°
        if(currentPage == null||&quot;&quot;.equals(currentPage)){
            currentPage=&quot;1&quot;;
        }
        if(rows == null||&quot;&quot;.equals(rows)){
            rows=&quot;5&quot;;
        }
        //è·å–æ¡ä»¶æŸ¥è¯¢å‚æ•°
        Map&lt;String, String[]&gt; condition = req.getParameterMap();

        //2.è°ƒç”¨serviceæŸ¥è¯¢
        UserServiceImpl userService = new UserServiceImpl();
        PageBean&lt;User&gt; pb= userService.findUserByPage(currentPage,rows,condition);
        //3.å°†PageBeanå­˜å…¥request
        req.setAttribute(&quot;pb&quot;,pb);
        req.setAttribute(&quot;condition&quot;,condition);//å°†æŸ¥è¯¢æ¡ä»¶ä¹Ÿå­˜å…¥
        //4.è½¬å‘åˆ°list.jsp
        req.getRequestDispatcher(&quot;/list.jsp&quot;).forward(req,resp);
    }


    @Override
    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        this.doPost(req, resp);
    }
}
</code></pre></li>
<li id="20211208235234-40n48dn">
<h2 id="--web----servlet----FindUserServletServlet">ğŸ—ƒï¸web&gt;&gt;&gt;ğŸ“servlet&gt;&gt;&gt;ğŸ“‡FindUserServletServlet</h2>
<pre class="code-block" data-language="java"><code>package cn.case1.web.servlet;

import cn.case1.domain.User;
import cn.case1.service.ipml.UserServiceImpl;

import javax.servlet.ServletException;
import javax.servlet.annotation.WebServlet;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import java.io.IOException;

@WebServlet(&quot;/findUserServlet&quot;)
public class FindUserServlet extends HttpServlet {
    @Override
    protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        //1.è·å–id
        String id=req.getParameter(&quot;id&quot;);
        //2.è°ƒç”¨ServiceæŸ¥è¯¢
        UserServiceImpl userService = new UserServiceImpl();
        User user=userService.findUserById(id);
        //3.å°†userå­˜å…¥request
        req.setAttribute(&quot;user&quot;,user);
        //4.è½¬å‘åˆ°updata.jsp
        req.getRequestDispatcher(&quot;/update.jsp&quot;).forward(req,resp);
    }

    @Override
    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        this.doPost(req, resp);
    }
}
</code></pre></li>
<li id="20211208235234-37jcisb">
<h2 id="--web----servlet----LoginServlet">ğŸ—ƒï¸web&gt;&gt;&gt;ğŸ“servlet&gt;&gt;&gt;ğŸ“‡LoginServlet</h2>
<pre class="code-block" data-language="java"><code>package cn.case1.web.servlet;

import cn.case1.domain.User;
import cn.case1.service.UserService;
import cn.case1.service.ipml.UserServiceImpl;
import com.mchange.v2.codegen.bean.BeangenUtils;
import org.apache.commons.beanutils.BeanUtils;

import javax.servlet.*;
import javax.servlet.http.*;
import javax.servlet.annotation.*;
import java.io.IOException;
import java.lang.reflect.InvocationTargetException;
import java.util.Map;

@WebServlet(&quot;/loginServlet&quot;)
public class LoginServlet extends HttpServlet {
    @Override
    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
        //1.è®¾ç½®ç¼–ç 
        request.setCharacterEncoding(&quot;utf-8&quot;);

        //2.è·å–æ•°æ®
        //2.1è·å–ç”¨æˆ·å¡«å†™éªŒè¯ç 
        String verifycode = request.getParameter(&quot;verifycode&quot;);
        Map&lt;String, String[]&gt; map = request.getParameterMap();

        //3.éªŒè¯ç æ ¡éªŒ
        HttpSession session = request.getSession();
        String checkcode_server = (String) session.getAttribute(&quot;CHECKCODE_SERVER&quot;);
        session.removeAttribute(&quot;CHECKCODE_SERVER&quot;);//ç¡®ä¿éªŒè¯ç ä¸€æ¬¡æ€§
        if (!checkcode_server.equalsIgnoreCase(verifycode)){
            //éªŒè¯ç ä¸æ­£ç¡®
            //æç¤ºä¿¡æ¯
            request.setAttribute(&quot;login_msg&quot;,&quot;éªŒè¯ç é”™è¯¯ï¼&quot;);
            //è·³è½¬ç™»é™†ç•Œé¢
            request.getRequestDispatcher(&quot;/login.jsp&quot;).forward(request,response);
            return;
        }

        //4.å°è£…Userå¯¹è±¡
        User user=new User();
        try {
            BeanUtils.populate(user,map);
        } catch (IllegalAccessException e) {
            e.printStackTrace();
        } catch (InvocationTargetException e) {
            e.printStackTrace();
        }

        //5.è°ƒç”¨ServiceæŸ¥è¯¢
        UserService userService=new UserServiceImpl();
        User loginUser=userService.login(user);
        //6.åˆ¤æ–­æ˜¯å¦ç™»é™†æˆåŠŸ
        if (loginUser != null){
            //ç™»é™†æˆåŠŸ
            //å°†ç”¨æˆ·å­˜å…¥session
            session.setAttribute(&quot;user&quot;,loginUser);
            //è·³è½¬é¡µé¢
            response.sendRedirect(request.getContextPath()+&quot;/index.jsp&quot;);
        }else {
            //ç™»é™†å¤±è´¥
            //æç¤ºä¿¡æ¯
            request.setAttribute(&quot;login_msg&quot;,&quot;ç”¨æˆ·åæˆ–å¯†ç é”™è¯¯ï¼&quot;);
            //è·³è½¬ç™»é™†ç•Œé¢
            request.getRequestDispatcher(&quot;/login.jsp&quot;).forward(request,response);
        }
    }

    @Override
    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
        this.doGet(request, response);
    }
}
</code></pre></li>
<li id="20211208235234-pbyt9xo">
<h2 id="--web----servlet----UpdateUserServlet">ğŸ—ƒï¸web&gt;&gt;&gt;ğŸ“servlet&gt;&gt;&gt;ğŸ“‡UpdateUserServlet</h2>
<pre class="code-block" data-language="java"><code>package cn.case1.web.servlet;

import cn.case1.domain.User;
import cn.case1.service.ipml.UserServiceImpl;
import org.apache.commons.beanutils.BeanUtils;

import javax.servlet.ServletException;
import javax.servlet.annotation.WebServlet;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import java.io.IOException;
import java.lang.reflect.InvocationTargetException;
import java.util.Map;

@WebServlet(&quot;/updateUserServlet&quot;)
public class UpdateUserServlet extends HttpServlet {
    @Override
    protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        //1.è®¾ç½®ç¼–ç 
        req.setCharacterEncoding(&quot;utf-8&quot;);
        //2.è·å–map
        Map&lt;String, String[]&gt; map = req.getParameterMap();
        //3.å°è£…å¯¹è±¡
        User user = new User();
        try {
            BeanUtils.populate(user,map);
        } catch (IllegalAccessException e) {
            e.printStackTrace();
        } catch (InvocationTargetException e) {
            e.printStackTrace();
        }
        //4.è°ƒç”¨Serviceä¿®æ”¹
        UserServiceImpl userService = new UserServiceImpl();
        userService.updateUser(user);
        //5.è½¬åˆ°æŸ¥è¯¢æ‰€æœ‰Servlet
        resp.sendRedirect(req.getContextPath()+&quot;/userListServlet&quot;);
    }

    @Override
    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        this.doPost(req, resp);
    }
}
</code></pre></li>
<li id="20211208235234-1wj7zc9">
<h2 id="--web----servlet----UserListServlet">ğŸ—ƒï¸web&gt;&gt;&gt;ğŸ“servlet&gt;&gt;&gt;ğŸ“‡UserListServlet</h2>
<pre class="code-block" data-language="java"><code>package cn.case1.web.servlet;

import cn.case1.domain.User;
import cn.case1.service.UserService;
import cn.case1.service.ipml.UserServiceImpl;

import javax.servlet.*;
import javax.servlet.http.*;
import javax.servlet.annotation.*;
import java.io.IOException;
import java.util.List;

@WebServlet(&quot;/userListServlet&quot;)
public class UserListServlet extends HttpServlet {
    @Override
    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
        //1.è°ƒç”¨UserServiceå®ŒæˆæŸ¥è¯¢
        UserService service=new UserServiceImpl();
        List&lt;User&gt; users = service.findAll();
        //2.å°†listå­˜å…¥requeståŸŸ
        request.setAttribute(&quot;users&quot;,users);
        //3.è½¬å‘åˆ°list.jsp
        request.getRequestDispatcher(&quot;/list.jsp&quot;).forward(request,response);
    }

    @Override
    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
        this.doGet(request, response);
    }
}
</code></pre></li>
<li id="20211208235234-st98vuh">
<h2 id="-web-----WEB-INF----lib">ğŸŒweb&gt;&gt;&gt;ğŸ—‚ï¸WEB-INF&gt;&gt;&gt;ğŸ“‚lib</h2>
<p><span class="img"><img src="http://127.0.0.1:6806/assets/image-20211208233306-bk8sggc.png" alt="image.png" /></span></p>
</li>
<li id="20211208235234-r07tr84">
<h2 id="-web----add-jsp">ğŸŒweb&gt;&gt;&gt;ğŸ“‘add.jsp</h2>
<pre class="code-block" data-language="html"><code>&lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;
&lt;!-- HTML5æ–‡æ¡£--&gt;
&lt;!DOCTYPE html&gt;
&lt;!-- ç½‘é¡µä½¿ç”¨çš„è¯­è¨€ --&gt;
&lt;html lang=&quot;zh-CN&quot;&gt;
&lt;head&gt;
    &lt;!-- æŒ‡å®šå­—ç¬¦é›† --&gt;
    &lt;meta charset=&quot;utf-8&quot;&gt;
    &lt;!-- ä½¿ç”¨Edgeæœ€æ–°çš„æµè§ˆå™¨çš„æ¸²æŸ“æ–¹å¼ --&gt;
    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;
    &lt;!-- viewportè§†å£ï¼šç½‘é¡µå¯ä»¥æ ¹æ®è®¾ç½®çš„å®½åº¦è‡ªåŠ¨è¿›è¡Œé€‚é…ï¼Œåœ¨æµè§ˆå™¨çš„å†…éƒ¨è™šæ‹Ÿä¸€ä¸ªå®¹å™¨ï¼Œå®¹å™¨çš„å®½åº¦ä¸è®¾å¤‡çš„å®½åº¦ç›¸åŒã€‚
    width: é»˜è®¤å®½åº¦ä¸è®¾å¤‡çš„å®½åº¦ç›¸åŒ
    initial-scale: åˆå§‹çš„ç¼©æ”¾æ¯”ï¼Œä¸º1:1 --&gt;
    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot;&gt;
    &lt;!-- ä¸Šè¿°3ä¸ªmetaæ ‡ç­¾*å¿…é¡»*æ”¾åœ¨æœ€å‰é¢ï¼Œä»»ä½•å…¶ä»–å†…å®¹éƒ½*å¿…é¡»*è·Ÿéšå…¶åï¼ --&gt;
    &lt;title&gt;æ·»åŠ ç”¨æˆ·&lt;/title&gt;

    &lt;!-- 1. å¯¼å…¥CSSçš„å…¨å±€æ ·å¼ --&gt;
    &lt;link href=&quot;css/bootstrap.min.css&quot; rel=&quot;stylesheet&quot;&gt;
    &lt;!-- 2. jQueryå¯¼å…¥ï¼Œå»ºè®®ä½¿ç”¨1.9ä»¥ä¸Šçš„ç‰ˆæœ¬ --&gt;
    &lt;script src=&quot;js/jquery-2.1.0.min.js&quot;&gt;&lt;/script&gt;
    &lt;!-- 3. å¯¼å…¥bootstrapçš„jsæ–‡ä»¶ --&gt;
    &lt;script src=&quot;js/bootstrap.min.js&quot;&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;div class=&quot;container&quot;&gt;
    &lt;center&gt;&lt;h3&gt;æ·»åŠ è”ç³»äººé¡µé¢&lt;/h3&gt;&lt;/center&gt;
    &lt;form action=&quot;${pageContext.request.contextPath}/addUserServlet&quot; method=&quot;post&quot;&gt;
        &lt;div class=&quot;form-group&quot;&gt;
            &lt;label for=&quot;name&quot;&gt;å§“åï¼š&lt;/label&gt;
            &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;name&quot; name=&quot;name&quot; placeholder=&quot;è¯·è¾“å…¥å§“å&quot;&gt;
        &lt;/div&gt;

        &lt;div class=&quot;form-group&quot;&gt;
            &lt;label&gt;æ€§åˆ«ï¼š&lt;/label&gt;
            &lt;input type=&quot;radio&quot; name=&quot;gender&quot; value=&quot;ç”·&quot; checked=&quot;checked&quot;/&gt;ç”·
            &lt;input type=&quot;radio&quot; name=&quot;gender&quot; value=&quot;å¥³&quot;/&gt;å¥³
        &lt;/div&gt;

        &lt;div class=&quot;form-group&quot;&gt;
            &lt;label for=&quot;age&quot;&gt;å¹´é¾„ï¼š&lt;/label&gt;
            &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;age&quot; name=&quot;age&quot; placeholder=&quot;è¯·è¾“å…¥å¹´é¾„&quot;&gt;
        &lt;/div&gt;

        &lt;div class=&quot;form-group&quot;&gt;
            &lt;label for=&quot;address&quot;&gt;ç±è´¯ï¼š&lt;/label&gt;
            &lt;select name=&quot;address&quot; class=&quot;form-control&quot; id=&quot;jiguan&quot;&gt;
                &lt;option value=&quot;å¹¿ä¸œ&quot;&gt;å¹¿ä¸œ&lt;/option&gt;
                &lt;option value=&quot;å¹¿è¥¿&quot;&gt;å¹¿è¥¿&lt;/option&gt;
                &lt;option value=&quot;æ¹–å—&quot;&gt;æ¹–å—&lt;/option&gt;
            &lt;/select&gt;
        &lt;/div&gt;

        &lt;div class=&quot;form-group&quot;&gt;
            &lt;label for=&quot;qq&quot;&gt;QQï¼š&lt;/label&gt;
            &lt;input type=&quot;text&quot; class=&quot;form-control&quot; name=&quot;qq&quot; placeholder=&quot;è¯·è¾“å…¥QQå·ç &quot;/&gt;
        &lt;/div&gt;

        &lt;div class=&quot;form-group&quot;&gt;
            &lt;label for=&quot;email&quot;&gt;Emailï¼š&lt;/label&gt;
            &lt;input type=&quot;text&quot; class=&quot;form-control&quot; name=&quot;email&quot; placeholder=&quot;è¯·è¾“å…¥é‚®ç®±åœ°å€&quot;/&gt;
        &lt;/div&gt;

        &lt;div class=&quot;form-group&quot; style=&quot;text-align: center&quot;&gt;
            &lt;input class=&quot;btn btn-primary&quot; type=&quot;submit&quot; value=&quot;æäº¤&quot; /&gt;
            &lt;input class=&quot;btn btn-default&quot; type=&quot;reset&quot; value=&quot;é‡ç½®&quot; /&gt;
            &lt;input class=&quot;btn btn-default&quot; type=&quot;button&quot; value=&quot;è¿”å›&quot; /&gt;
        &lt;/div&gt;
    &lt;/form&gt;
&lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre></li>
<li id="20211208235234-vjkk7xk">
<h2 id="-web----index-jsp">ğŸŒweb&gt;&gt;&gt;ğŸ“‘index.jsp</h2>
<pre class="code-block" data-language="html"><code>&lt;%@ page import=&quot;java.sql.DriverManager&quot; %&gt;
&lt;%@ page import=&quot;java.sql.ResultSet&quot; %&gt;
&lt;%@ page import=&quot;java.sql.Connection&quot; %&gt;
&lt;%@ page import=&quot;java.sql.Statement&quot; %&gt;
&lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;
&lt;html lang=&quot;zh-CN&quot;&gt;
&lt;head&gt;
  &lt;meta charset=&quot;utf-8&quot;/&gt;
  &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;/&gt;
  &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot;/&gt;
  &lt;title&gt;é¦–é¡µ&lt;/title&gt;

  &lt;!-- 1. å¯¼å…¥CSSçš„å…¨å±€æ ·å¼ --&gt;
  &lt;link href=&quot;css/bootstrap.min.css&quot; rel=&quot;stylesheet&quot;&gt;
  &lt;!-- 2. jQueryå¯¼å…¥ï¼Œå»ºè®®ä½¿ç”¨1.9ä»¥ä¸Šçš„ç‰ˆæœ¬ --&gt;
  &lt;script src=&quot;js/jquery-2.1.0.min.js&quot;&gt;&lt;/script&gt;
  &lt;!-- 3. å¯¼å…¥bootstrapçš„jsæ–‡ä»¶ --&gt;
  &lt;script src=&quot;js/bootstrap.min.js&quot;&gt;&lt;/script&gt;
  &lt;script type=&quot;text/javascript&quot;&gt;
  &lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;div&gt;${user.name}ï¼Œæ¬¢è¿æ‚¨ï¼&lt;/div&gt;
&lt;div align=&quot;center&quot;&gt;
  &lt;%
    try {
      Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);  //é©±åŠ¨ç¨‹åºå
      String url = &quot;jdbc:mysql://localhost:3306/day17?useSSL=true&amp;characterEncoding=utf-8&amp;serverTimezone=GMT&quot;; //æ•°æ®åº“å
      String username = &quot;root&quot;;  //æ•°æ®åº“ç”¨æˆ·å
      String password = &quot;123456&quot;;  //æ•°æ®åº“ç”¨æˆ·å¯†ç 
      Connection conn = DriverManager.getConnection(url, username, password);  //è¿æ¥çŠ¶æ€
      if(conn != null){
        out.print(&quot;æ•°æ®åº“è¿æ¥æˆåŠŸï¼&quot;);
        out.print(&quot;&lt;br /&gt;&quot;);
        Statement stmt = null;
        ResultSet rs = null;
        String sql = &quot;select *from user&quot;;  //æŸ¥è¯¢è¯­å¥
        stmt = conn.createStatement();
        rs = stmt.executeQuery(sql);
        out.print(&quot;æŸ¥è¯¢ç»“æœï¼š&quot;);
        out.print(&quot;&lt;br/&gt;&quot;);
        out.println(&quot;name&quot;);
        out.print(&quot;&lt;br/&gt;&quot;);
        while (rs.next()) {
          out.println(rs.getString(&quot;name&quot;)); //å°†æŸ¥è¯¢ç»“æœè¾“å‡º
          out.print(&quot;&lt;br/&gt;&quot;);
        }
      }
      else{
        out.print(&quot;è¿æ¥å¤±è´¥ï¼&quot;);
        out.print(&quot;&lt;br/&gt;&quot;);
      }
    }catch (Exception e) {
      out.print(&quot;æ•°æ®åº“è¿æ¥å¼‚å¸¸ï¼&quot;);
      out.print(&quot;&lt;br/&gt;&quot;);
    }
  %&gt;
  &lt;a href=&quot;${pageContext.request.contextPath}/findUserByPageServlet&quot; style=&quot;text-decoration:none;font-size:33px&quot;&gt;æŸ¥è¯¢æ‰€æœ‰ç”¨æˆ·ä¿¡æ¯
  &lt;/a&gt;
&lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre></li>
<li id="20211208235234-x9mcuyr">
<h2 id="-web----list-jsp">ğŸŒweb&gt;&gt;&gt;ğŸ“‘list.jsp</h2>
<pre class="code-block" data-language="html"><code>&lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;
&lt;%@taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot; %&gt;

&lt;!DOCTYPE html&gt;
&lt;!-- ç½‘é¡µä½¿ç”¨çš„è¯­è¨€ --&gt;
&lt;html lang=&quot;zh-CN&quot;&gt;
&lt;head&gt;
    &lt;!-- æŒ‡å®šå­—ç¬¦é›† --&gt;
    &lt;meta charset=&quot;utf-8&quot;&gt;
    &lt;!-- ä½¿ç”¨Edgeæœ€æ–°çš„æµè§ˆå™¨çš„æ¸²æŸ“æ–¹å¼ --&gt;
    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;
    &lt;!-- viewportè§†å£ï¼šç½‘é¡µå¯ä»¥æ ¹æ®è®¾ç½®çš„å®½åº¦è‡ªåŠ¨è¿›è¡Œé€‚é…ï¼Œåœ¨æµè§ˆå™¨çš„å†…éƒ¨è™šæ‹Ÿä¸€ä¸ªå®¹å™¨ï¼Œå®¹å™¨çš„å®½åº¦ä¸è®¾å¤‡çš„å®½åº¦ç›¸åŒã€‚
    width: é»˜è®¤å®½åº¦ä¸è®¾å¤‡çš„å®½åº¦ç›¸åŒ
    initial-scale: åˆå§‹çš„ç¼©æ”¾æ¯”ï¼Œä¸º1:1 --&gt;
    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot;&gt;
    &lt;!-- ä¸Šè¿°3ä¸ªmetaæ ‡ç­¾*å¿…é¡»*æ”¾åœ¨æœ€å‰é¢ï¼Œä»»ä½•å…¶ä»–å†…å®¹éƒ½*å¿…é¡»*è·Ÿéšå…¶åï¼ --&gt;
    &lt;title&gt;ç”¨æˆ·ä¿¡æ¯ç®¡ç†ç³»ç»Ÿ&lt;/title&gt;

    &lt;!-- 1. å¯¼å…¥CSSçš„å…¨å±€æ ·å¼ --&gt;
    &lt;link href=&quot;css/bootstrap.min.css&quot; rel=&quot;stylesheet&quot;&gt;
    &lt;!-- 2. jQueryå¯¼å…¥ï¼Œå»ºè®®ä½¿ç”¨1.9ä»¥ä¸Šçš„ç‰ˆæœ¬ --&gt;
    &lt;script src=&quot;js/jquery-2.1.0.min.js&quot;&gt;&lt;/script&gt;
    &lt;!-- 3. å¯¼å…¥bootstrapçš„jsæ–‡ä»¶ --&gt;
    &lt;script src=&quot;js/bootstrap.min.js&quot;&gt;&lt;/script&gt;
    &lt;style type=&quot;text/css&quot;&gt;
        td, th {
            text-align: center;
        }
    &lt;/style&gt;
    &lt;script&gt;
        function deleteUser(id){
            //ç”¨æˆ·å®‰å…¨æç¤º
            if (confirm(&quot;æ‚¨ç¡®å®šè¦åˆ é™¤å—ï¼Ÿ&quot;)){
                //è®¿é—®è·¯å¾„
                location.href=&quot;${pageContext.request.contextPath}/delUserServlet?id=&quot;+id;
            }
        }
        window.onload = function(){
            //ç»™åˆ é™¤é€‰ä¸­æŒ‰é’®æ·»åŠ å•å‡»äº‹ä»¶
            document.getElementById(&quot;delSelected&quot;).onclick = function(){
                if(confirm(&quot;æ‚¨ç¡®å®šè¦åˆ é™¤é€‰ä¸­æ¡ç›®å—ï¼Ÿ&quot;)){
                    var flag = false;
                    //åˆ¤æ–­æ˜¯å¦æœ‰é€‰ä¸­æ¡ç›®
                    var cbs = document.getElementsByName(&quot;uid&quot;);
                    for (var i = 0; i &lt; cbs.length; i++) {
                        if(cbs[i].checked){
                            //æœ‰ä¸€ä¸ªæ¡ç›®é€‰ä¸­äº†
                            flag = true;
                            break;
                        }
                    }
                    if(flag){//æœ‰æ¡ç›®è¢«é€‰ä¸­
                        //è¡¨å•æäº¤
                        document.getElementById(&quot;form&quot;).submit();
                    }
                }
            }
            //1.è·å–ç¬¬ä¸€ä¸ªcb
            document.getElementById(&quot;firstCb&quot;).onclick = function(){
                //2.è·å–ä¸‹è¾¹åˆ—è¡¨ä¸­æ‰€æœ‰çš„cb
                var cbs = document.getElementsByName(&quot;uid&quot;);
                //3.éå†
                for (var i = 0; i &lt; cbs.length; i++) {
                    //4.è®¾ç½®è¿™äº›cbs[i]çš„checkedçŠ¶æ€ = firstCb.checked
                    cbs[i].checked = this.checked;
                }
            }
        }
    &lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;div class=&quot;container&quot;&gt;
    &lt;h3 style=&quot;text-align: center&quot;&gt;ç”¨æˆ·ä¿¡æ¯åˆ—è¡¨&lt;/h3&gt;
    &lt;div style=&quot;float: left&quot;&gt;
        &lt;form class=&quot;form-inline&quot; action=&quot;${pageContext.request.contextPath}/findUserByPageServlet&quot; method=&quot;post&quot;&gt;
            &lt;div class=&quot;form-group&quot;&gt;
                &lt;label for=&quot;exampleInputName2&quot;&gt;å§“å&lt;/label&gt;
                &lt;input type=&quot;text&quot; name=&quot;name&quot; value=&quot;${condition.name[0]}&quot; class=&quot;form-control&quot; id=&quot;exampleInputName2&quot;&gt;
            &lt;/div&gt;
            &lt;div class=&quot;form-group&quot;&gt;
                &lt;label for=&quot;exampleInputName3&quot;&gt;ç±è´¯&lt;/label&gt;
                &lt;input type=&quot;text&quot; name=&quot;address&quot; value=&quot;${condition.adress[0]}&quot;  class=&quot;form-control&quot; id=&quot;exampleInputName3&quot; &gt;
            &lt;/div&gt;
            &lt;div class=&quot;form-group&quot;&gt;
                &lt;label for=&quot;exampleInputEmail2&quot;&gt;é‚®ç®±&lt;/label&gt;
                &lt;input type=&quot;email&quot; name=&quot;emmail&quot; value=&quot;${condition.email[0]}&quot;  class=&quot;form-control&quot; id=&quot;exampleInputEmail2&quot; &gt;
            &lt;/div&gt;
            &lt;button type=&quot;submit&quot; class=&quot;btn btn-default&quot;&gt;æŸ¥è¯¢&lt;/button&gt;
        &lt;/form&gt;
    &lt;/div&gt;
    &lt;div style=&quot;float: right;margin: 5px&quot;&gt;
        &lt;a class=&quot;btn btn-primary&quot; href=&quot;${pageContext.request.contextPath}/add.jsp&quot;&gt;æ·»åŠ è”ç³»äºº&lt;/a&gt;
        &lt;a class=&quot;btn btn-primary&quot; href=&quot;javascript:void(0);&quot; id=&quot;delSelected&quot;&gt;åˆ é™¤é€‰ä¸­&lt;/a&gt;
    &lt;/div&gt;
    &lt;form action=&quot;${pageContext.request.contextPath}/delSelectedServlet&quot; method=&quot;post&quot; id=&quot;form&quot;&gt;
    &lt;table border=&quot;1&quot; class=&quot;table table-bordered table-hover&quot;&gt;

        &lt;tr class=&quot;success&quot;&gt;
            &lt;th&gt;&lt;input type=&quot;checkbox&quot; id=&quot;firstCb&quot;&gt;&lt;/th&gt;
            &lt;th&gt;ç¼–å·&lt;/th&gt;
            &lt;th&gt;å§“å&lt;/th&gt;
            &lt;th&gt;æ€§åˆ«&lt;/th&gt;
            &lt;th&gt;å¹´é¾„&lt;/th&gt;
            &lt;th&gt;ç±è´¯&lt;/th&gt;
            &lt;th&gt;QQ&lt;/th&gt;
            &lt;th&gt;é‚®ç®±&lt;/th&gt;
            &lt;th&gt;æ“ä½œ&lt;/th&gt;
        &lt;/tr&gt;
        &lt;c:forEach items=&quot;${pb.list}&quot; var=&quot;user&quot; varStatus=&quot;s&quot;&gt;
            &lt;tr&gt;
                &lt;th&gt;&lt;input type=&quot;checkbox&quot; name=&quot;uid&quot; value=&quot;${user.id}&quot;&gt;&lt;/th&gt;
                &lt;td&gt;${s.count}&lt;/td&gt;
                &lt;td&gt;${user.name}&lt;/td&gt;
                &lt;td&gt;${user.gender}&lt;/td&gt;
                &lt;td&gt;${user.age}&lt;/td&gt;
                &lt;td&gt;${user.address}&lt;/td&gt;
                &lt;td&gt;${user.qq}&lt;/td&gt;
                &lt;td&gt;${user.email}&lt;/td&gt;
                &lt;td&gt;&lt;a class=&quot;btn btn-default btn-sm&quot; href=&quot;${pageContext.request.contextPath}/findUserServlet?id=${user.id}&quot;&gt;ä¿®æ”¹&lt;/a&gt;&amp;nbsp;
                    &lt;a class=&quot;btn btn-default btn-sm&quot; href=&quot;javascript:deleteUser(${user.id});&quot;&gt;åˆ é™¤&lt;/a&gt;&lt;/td&gt;
            &lt;/tr&gt;
        &lt;/c:forEach&gt;

    &lt;/table&gt;
    &lt;/form&gt;
    &lt;div&gt;
        &lt;nav aria-label=&quot;Page navigation&quot;&gt;
            &lt;ul class=&quot;pagination&quot;&gt;
                &lt;c:if test=&quot;${pb.currentPage == 1}&quot;&gt;
                    &lt;li class=&quot;disabled&quot;&gt;
                &lt;/c:if&gt;
                &lt;c:if test=&quot;${pb.currentPage != 1}&quot;&gt;
                    &lt;li&gt;
                &lt;/c:if&gt;
                &lt;li&gt;
                    &lt;a href=&quot;${pageContext.request.contextPath}/findUserByPageServlet?currentPage=${pb.currentPage-1}
                    &amp;rows=5&amp;name=${condition.name[0]}&amp;address=${condition.address[0]}&amp;email=${condition.email[0]} &quot; aria-label=&quot;Previous&quot;&gt;
                        &lt;span aria-hidden=&quot;true&quot;&gt;&amp;laquo;&lt;/span&gt;
                    &lt;/a&gt;
                &lt;/li&gt;
                &lt;c:forEach begin=&quot;1&quot; end=&quot;${pb.totalPage}&quot; var=&quot;i&quot;&gt;
                    &lt;c:if test=&quot;${pb.currentPage==i}&quot;&gt;
                        &lt;li class=&quot;active&quot;&gt;&lt;a href=&quot;${pageContext.request.contextPath}/findUserByPageServlet?currentPage=${i}
                        &amp;rows=5&amp;name=${condition.name[0]}&amp;address=${condition.address[0]}&amp;email=${condition.email[0]}&quot;&gt;${i}&lt;/a&gt;&lt;/li&gt;
                    &lt;/c:if&gt;
                    &lt;c:if test=&quot;${pb.currentPage!=i}&quot;&gt;
                        &lt;li&gt;&lt;a href=&quot;${pageContext.request.contextPath}/findUserByPageServlet?currentPage=${i}
                        &amp;rows=5&amp;name=${condition.name[0]}&amp;address=${condition.address[0]}&amp;email=${condition.email[0]}&quot;&gt;${i}&lt;/a&gt;&lt;/li&gt;
                    &lt;/c:if&gt;
                &lt;/c:forEach&gt;
                &lt;li&gt;
                    &lt;a href=&quot;${pageContext.request.contextPath}/findUserByPageServlet?currentPage=${pb.currentPage+1}
                    &amp;rows=5&amp;name=${condition.name[0]}&amp;address=${condition.address[0]}&amp;email=${condition.email[0]}&quot; aria-label=&quot;Next&quot;&gt;
                        &lt;span aria-hidden=&quot;true&quot;&gt;&amp;raquo;&lt;/span&gt;
                    &lt;/a&gt;
                &lt;/li&gt;
                &lt;span style=&quot;font-size:25px;margin-left: 5px &quot;&gt;
                    å…±${pb.totalCount}æ¡è®°å½•ï¼Œå…±${pb.totalPage}é¡µ
                &lt;/span&gt;
            &lt;/ul&gt;
        &lt;/nav&gt;
    &lt;/div&gt;
&lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre></li>
<li id="20211208235234-9lw8hc9">
<h2 id="-web----login-jsp">ğŸŒweb&gt;&gt;&gt;ğŸ“‘login.jsp</h2>
<pre class="code-block" data-language="html"><code>&lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;
&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;zh-CN&quot;&gt;
  &lt;head&gt;
    &lt;meta charset=&quot;utf-8&quot;/&gt;
    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;/&gt;
    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot;/&gt;
    &lt;title&gt;ç®¡ç†å‘˜ç™»å½•&lt;/title&gt;

    &lt;!-- 1. å¯¼å…¥CSSçš„å…¨å±€æ ·å¼ --&gt;
    &lt;link href=&quot;css/bootstrap.min.css&quot; rel=&quot;stylesheet&quot;&gt;
    &lt;!-- 2. jQueryå¯¼å…¥ï¼Œå»ºè®®ä½¿ç”¨1.9ä»¥ä¸Šçš„ç‰ˆæœ¬ --&gt;
    &lt;script src=&quot;js/jquery-2.1.0.min.js&quot;&gt;&lt;/script&gt;
    &lt;!-- 3. å¯¼å…¥bootstrapçš„jsæ–‡ä»¶ --&gt;
    &lt;script src=&quot;js/bootstrap.min.js&quot;&gt;&lt;/script&gt;
    &lt;script type=&quot;text/javascript&quot;&gt;
		//åˆ‡æ¢éªŒè¯ç 
		function refreshCode(){
			//1.è·å–éªŒè¯ç å›¾ç‰‡å±æ€§
			var vcode=document.getElementById(&quot;vcode&quot;);
			//2.è®¾ç½®srcå±æ€§ï¼ŒåŠ ä¸Šæ—¶é—´æˆ³
			vcode.src=&quot;${pageContext.request.contextPath}/checkCodeServlet?time=&quot;+new Date().getTime();
		}
    &lt;/script&gt;
  &lt;/head&gt;
  &lt;body&gt;
  	&lt;div class=&quot;container&quot; style=&quot;width: 400px;&quot;&gt;
  		&lt;h3 style=&quot;text-align: center;&quot;&gt;ç®¡ç†å‘˜ç™»å½•&lt;/h3&gt;
		&lt;!-- å‡ºé”™æ˜¾ç¤ºçš„ä¿¡æ¯æ¡† --&gt;
		&lt;div class=&quot;alert alert-warning alert-dismissible&quot; role=&quot;alert&quot;&gt;
			&lt;button type=&quot;button&quot; class=&quot;close&quot; data-dismiss=&quot;alert&quot; &gt;
				&lt;span&gt;&amp;times;&lt;/span&gt;&lt;/button&gt;
			&lt;strong&gt;${login_msg}&lt;/strong&gt;
		&lt;/div&gt;
        &lt;form action=&quot;${pageContext.request.contextPath}/loginServlet&quot; method=&quot;post&quot;&gt;
	      &lt;div class=&quot;form-group&quot;&gt;
	        &lt;label for=&quot;user&quot;&gt;ç”¨æˆ·åï¼š&lt;/label&gt;
	        &lt;input type=&quot;text&quot; name=&quot;username&quot; class=&quot;form-control&quot; id=&quot;user&quot; placeholder=&quot;è¯·è¾“å…¥ç”¨æˆ·å&quot;/&gt;
	      &lt;/div&gt;

	      &lt;div class=&quot;form-group&quot;&gt;
	        &lt;label for=&quot;password&quot;&gt;å¯†ç ï¼š&lt;/label&gt;
	        &lt;input type=&quot;password&quot; name=&quot;password&quot; class=&quot;form-control&quot; id=&quot;password&quot; placeholder=&quot;è¯·è¾“å…¥å¯†ç &quot;/&gt;
	      &lt;/div&gt;

	      &lt;div class=&quot;form-inline&quot;&gt;
	        &lt;label for=&quot;vcode&quot;&gt;éªŒè¯ç ï¼š&lt;/label&gt;
	        &lt;input type=&quot;text&quot; name=&quot;verifycode&quot; class=&quot;form-control&quot; id=&quot;verifycode&quot; placeholder=&quot;è¯·è¾“å…¥éªŒè¯ç &quot; style=&quot;width: 120px;&quot;/&gt;
	        &lt;a href=&quot;javascript:refreshCode()&quot;&gt;&lt;img src=&quot;${pageContext.request.contextPath}/checkCodeServlet&quot;
													title=&quot;çœ‹ä¸æ¸…ç‚¹å‡»åˆ·æ–°&quot; id=&quot;vcode&quot;/&gt;&lt;/a&gt;
	      &lt;/div&gt;
	      &lt;hr/&gt;
	      &lt;div class=&quot;form-group&quot; style=&quot;text-align: center;&quot;&gt;
	        &lt;input class=&quot;btn btn btn-primary&quot; type=&quot;submit&quot; value=&quot;ç™»å½•&quot;&gt;
	       &lt;/div&gt;
	  	&lt;/form&gt;
  	&lt;/div&gt;
  &lt;/body&gt;
&lt;/html&gt;
</code></pre></li>
<li id="20211208235234-9831ew9">
<h2 id="-web----update-jsp">ğŸŒweb&gt;&gt;&gt;ğŸ“‘update.jsp</h2>
<pre class="code-block" data-language="html"><code>&lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;
&lt;%@taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot; %&gt;
&lt;!DOCTYPE html&gt;
&lt;!-- ç½‘é¡µä½¿ç”¨çš„è¯­è¨€ --&gt;
&lt;html lang=&quot;zh-CN&quot;&gt;
    &lt;head&gt;
        &lt;!-- æŒ‡å®šå­—ç¬¦é›† --&gt;
        &lt;meta charset=&quot;utf-8&quot;&gt;
        &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;
        &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot;&gt;
        &lt;title&gt;ä¿®æ”¹ç”¨æˆ·&lt;/title&gt;

        &lt;link href=&quot;css/bootstrap.min.css&quot; rel=&quot;stylesheet&quot;&gt;
        &lt;script src=&quot;js/jquery-2.1.0.min.js&quot;&gt;&lt;/script&gt;
        &lt;script src=&quot;js/bootstrap.min.js&quot;&gt;&lt;/script&gt;

    &lt;/head&gt;
    &lt;body&gt;
        &lt;div class=&quot;container&quot; style=&quot;width: 400px;&quot;&gt;
        &lt;h3 style=&quot;text-align: center;&quot;&gt;ä¿®æ”¹è”ç³»äºº&lt;/h3&gt;
            &lt;form action=&quot;${pageContext.request.contextPath}/updateUserServlet&quot; method=&quot;post&quot;&gt;
            &lt;input type=&quot;hidden&quot; name=&quot;id&quot; value=&quot;${user.id}&quot;&gt;
          &lt;div class=&quot;form-group&quot;&gt;
            &lt;label for=&quot;name&quot;&gt;å§“åï¼š&lt;/label&gt;
            &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;name&quot; name=&quot;name&quot; value=&quot;${user.name}&quot; readonly=&quot;readonly&quot; placeholder=&quot;è¯·è¾“å…¥å§“å&quot; /&gt;
          &lt;/div&gt;

          &lt;div class=&quot;form-group&quot;&gt;
            &lt;label&gt;æ€§åˆ«ï¼š&lt;/label&gt;
              &lt;c:if test=&quot;${user.gender == 'ç”·'}&quot;&gt;
                  &lt;input type=&quot;radio&quot; name=&quot;gender&quot; value=&quot;ç”·&quot;  checked/&gt;ç”·
                  &lt;input type=&quot;radio&quot; name=&quot;gender&quot; value=&quot;å¥³&quot;  /&gt;å¥³
              &lt;/c:if&gt;
              &lt;c:if test=&quot;${user.gender == 'å¥³'}&quot;&gt;
                  &lt;input type=&quot;radio&quot; name=&quot;gender&quot; value=&quot;ç”·&quot;  /&gt;ç”·
                  &lt;input type=&quot;radio&quot; name=&quot;gender&quot; value=&quot;å¥³&quot;  checked/&gt;å¥³
              &lt;/c:if&gt;
          &lt;/div&gt;

          &lt;div class=&quot;form-group&quot;&gt;
            &lt;label for=&quot;age&quot;&gt;å¹´é¾„ï¼š&lt;/label&gt;
            &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;age&quot; value=&quot;${user.age}&quot; name=&quot;age&quot; placeholder=&quot;è¯·è¾“å…¥å¹´é¾„&quot; /&gt;
          &lt;/div&gt;

          &lt;div class=&quot;form-group&quot;&gt;
            &lt;label for=&quot;address&quot;&gt;ç±è´¯ï¼š&lt;/label&gt;
             &lt;select name=&quot;address&quot; class=&quot;form-control&quot; id=&quot;address&quot;&gt;
                 &lt;c:if test=&quot;${user.address == 'å¹¿ä¸œ'}&quot;&gt;
                     &lt;option value=&quot;å¹¿ä¸œ&quot; selected&gt;å¹¿ä¸œ&lt;/option&gt;
                     &lt;option value=&quot;å¹¿è¥¿&quot;&gt;å¹¿è¥¿&lt;/option&gt;
                     &lt;option value=&quot;æ¹–å—&quot;&gt;æ¹–å—&lt;/option&gt;
                 &lt;/c:if&gt;
                 &lt;c:if test=&quot;${user.address == 'å¹¿è¥¿'}&quot;&gt;
                     &lt;option value=&quot;å¹¿ä¸œ&quot; &gt;å¹¿ä¸œ&lt;/option&gt;
                     &lt;option value=&quot;å¹¿è¥¿&quot; selected&gt;å¹¿è¥¿&lt;/option&gt;
                     &lt;option value=&quot;æ¹–å—&quot;&gt;æ¹–å—&lt;/option&gt;
                 &lt;/c:if&gt;
                 &lt;c:if test=&quot;${user.address == 'æ¹–å—'}&quot;&gt;
                     &lt;option value=&quot;å¹¿ä¸œ&quot; &gt;å¹¿ä¸œ&lt;/option&gt;
                     &lt;option value=&quot;å¹¿è¥¿&quot;&gt;å¹¿è¥¿&lt;/option&gt;
                     &lt;option value=&quot;æ¹–å—&quot; selected&gt;æ¹–å—&lt;/option&gt;
                 &lt;/c:if&gt;
            &lt;/select&gt;
          &lt;/div&gt;

          &lt;div class=&quot;form-group&quot;&gt;
            &lt;label for=&quot;qq&quot;&gt;QQï¼š&lt;/label&gt;
            &lt;input type=&quot;text&quot; value=&quot;${user.qq}&quot; class=&quot;form-control&quot; name=&quot;qq&quot; placeholder=&quot;è¯·è¾“å…¥QQå·ç &quot;/&gt;
          &lt;/div&gt;

          &lt;div class=&quot;form-group&quot;&gt;
            &lt;label for=&quot;email&quot;&gt;Emailï¼š&lt;/label&gt;
            &lt;input type=&quot;text&quot; value=&quot;${user.email}&quot; class=&quot;form-control&quot; name=&quot;email&quot; placeholder=&quot;è¯·è¾“å…¥é‚®ç®±åœ°å€&quot;/&gt;
          &lt;/div&gt;

             &lt;div class=&quot;form-group&quot; style=&quot;text-align: center&quot;&gt;
                &lt;input class=&quot;btn btn-primary&quot; type=&quot;submit&quot; value=&quot;æäº¤&quot; /&gt;
                &lt;input class=&quot;btn btn-default&quot; type=&quot;reset&quot; value=&quot;é‡ç½®&quot; /&gt;
                &lt;input class=&quot;btn btn-default&quot; type=&quot;button&quot; value=&quot;è¿”å›&quot;/&gt;
             &lt;/div&gt;
        &lt;/form&gt;
        &lt;/div&gt;
    &lt;/body&gt;
&lt;/html&gt;
</code></pre></li>
</ul>
</div>
<script src="http://127.0.0.1:6806/stage/build/export/protyle-method.js?1.5.4"></script>
<script src="http://127.0.0.1:6806/stage/protyle/js/lute/lute.min.js?1.5.4"></script>    
<script src="http://127.0.0.1:6806/stage/protyle/js/html2canvas.min.js?1.5.4"></script>    
<script>
    window.siyuan = {
      config: {
        appearance: { mode: 1, codeBlockThemeDark: "base16/dracula", codeBlockThemeLight: "github" },
        editor: { 
          codeSyntaxHighlightLineNum: true,
          mathEngine: "KaTeX"
        }
      },
      languages: {copy:"å¤åˆ¶"}
    };
    const previewElement = document.getElementById('preview');
    Protyle.codeRender(previewElement);
    Protyle.highlightRender(previewElement);
    Protyle.mathRender(previewElement, undefined, false);
    Protyle.mermaidRender(previewElement);
    Protyle.flowchartRender(previewElement);
    Protyle.graphvizRender(previewElement);
    Protyle.chartRender(previewElement);
    Protyle.mindmapRender(previewElement);
    Protyle.abcRender(previewElement);
    Protyle.plantumlRender(previewElement);
    Protyle.mediaRender(previewElement);
    document.querySelectorAll(".protyle-action__copy").forEach((item) => {
      item.addEventListener("click", (event) => {
            writeText(item.parentElement.nextElementSibling.textContent.trimEnd());
            item.setAttribute("aria-label", "å·²å¤åˆ¶");
            event.preventDefault();
            event.stopPropagation();
      })
    });
    
</script></body></html>